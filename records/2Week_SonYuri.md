## Title: [2Week] 손유리

### 미션 요구사항 분석 & 체크리스트

---

- [x] 케이스5 : 11명 이상의 호감 상대를 등록할 수 없음
  - [x] 로그인 된 회원에 대한 호감 목록의 개수 확인
  - [x] 최대 10명까지 등록할 수 있도록 if문 & historyBack 삽입
- [x] 케이스4 : 중복 호감 표시 불가
  - [x] 호감 표시할 때 로그인 된 회원에 대한 호감 목록에서 아이디 조회
  - [x] 인스타 아이디가 같고, 호감 사유가 같을 때 historyBack
  - [x] 테스트 케이스 추가 및 실행
- [x] 케이스6 : 다른 사유로 같은 인스타회원에게 호감 표시하는 경우 수정 처리
  - [x] 케이스4와 같이 호감 목록에서 아이디 조회
  - [x] 인스타 아이디가 같지만 호감 사유가 다르면 update로 넘어가도록 함
  - [x] update 메서드 작성
  - [x] 테스트 케이스 추가 및 실행
- [ ] 선택 미션 : 네이버 로그인
  - [x] 네이버 로그인 API 이용을 위한 클라이언트 ID, 비밀번호 발급
  - [x] yml 파일 수정
  - [ ] 로컬 서버 실행, 로그인되는지 확인


### 2주차 미션 요약

---

**[접근 방법]**

케이스5의 경우 로그인 되어 있는 Member > InstaMember > fromLikeablePeople 리스트를 가져와서 size를 확인하면 되는 간단한 작업이므로, 가장 먼저 코드를 작성해주었다.
케이스4는 앞서 가져온 fromLikeablePeople 리스트 중 toInstaMember와 등록하고자 하는 인스타 아이디가 같은 것이 있는지 조회, 같은 것이 있으면 다시 if문으로 호감 사유도 같은지 확인한다.
아이디와 호감 사유가 모두 같으면 historyBack이 실행되도록 F 코드를 return해준다.
아이디는 같지만 호감 사유가 다르면 update 메서드로 넘어가서 호감 사유가 수정되도록 하여 케이스6까지 완료했다.

선택 미션인 네이버 로그인도 구글 로그인과 비슷하게 진행했다.
Oauth2와 관련된 클래스가 이미 작성이 다 되어 있기 때문에 yml 파일만 수정해주었는데, 개인정보 동의 화면까지 정상적으로 떴지만 동의하기를 누르면 로그인이 되지 않은 상태로 로그인 화면으로 리다이렉트 되었다.
http://localhost:8080/member/login?error 로 리다이렉트 된 것인데, 아직 원인을 찾는 중이다.



**[특이사항]**

호감 목록을 가져와서 중복된 아이디가 있는지 조회하는 과정에서 stream 이전에 equals 메서드를 오버라이딩 하여 contains, indexOf를 사용했으나 오류가 발생했다.
그래서 stream을 활용한 것인데, 가장 적합한 방법이라는 확신은 들지 않는다.

네이버 로그인의 경우, 이전에 구글 로그인을 구현할 때도 개인정보 동의 화면까지 잘 떴지만 로그인이 되지 않았었다. 그러다가 다음 날부터 이유 없이 로그인이 잘 되기 시작했는데, 지금 네이버 로그인이 안 되는 것도 비슷한 경우인지,
혹은 카카오나 구글과 다르게 더 추가해주어야 할 부분이 있어서 안 되는 건지 잘 모르겠다.